<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Filter(Edition) | LuXuanyu</title><meta name="keywords" content="C"><meta name="author" content="Xuanyu Lu"><meta name="copyright" content="Xuanyu Lu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Image processingConceptAs all the visions on the screen shows are all constructed by pixels, which is huge anount of ‘1’ and ‘0’. Then computer scientists and engineers use different organizations of">
<meta property="og:type" content="article">
<meta property="og:title" content="Filter(Edition)">
<meta property="og:url" content="https://william-lu-stack.github.io/2021/02/28/imageP/index.html">
<meta property="og:site_name" content="LuXuanyu">
<meta property="og:description" content="Image processingConceptAs all the visions on the screen shows are all constructed by pixels, which is huge anount of ‘1’ and ‘0’. Then computer scientists and engineers use different organizations of">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png">
<meta property="article:published_time" content="2021-02-28T12:12:40.128Z">
<meta property="article:modified_time" content="2021-03-02T12:20:56.405Z">
<meta property="article:author" content="Xuanyu Lu">
<meta property="article:tag" content="C">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://william-lu-stack.github.io/2021/02/28/imageP/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="yandex-verification" content="{&quot;theme_color&quot;:{&quot;enable&quot;:true,&quot;main&quot;:&quot;#49B1F5&quot;,&quot;paginator&quot;:&quot;#00c4b6&quot;,&quot;button_hover&quot;:&quot;#FF7242&quot;,&quot;text_selection&quot;:&quot;#00c4b6&quot;,&quot;link_color&quot;:&quot;#99a9bf&quot;,&quot;meta_color&quot;:&quot;#858585&quot;,&quot;hr_color&quot;:&quot;#A4D8FA&quot;,&quot;code_foreground&quot;:&quot;#F47466&quot;,&quot;code_background&quot;:&quot;rgba(27, 31, 35, .05)&quot;,&quot;toc_color&quot;:&quot;#00c4b6&quot;,&quot;blockquote_padding_color&quot;:&quot;#49b1f5&quot;,&quot;blockquote_background_color&quot;:&quot;#49b1f5&quot;}}"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: '',
  enable_page_level_ads: 'true'
});</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: Xuanyu Lu","link":"Link: ","source":"Source: LuXuanyu","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2021-03-02 20:20:56'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="/img/icon"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">2</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">LuXuanyu</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Filter(Edition)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-categories"><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/project/">project</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">1.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>10min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Image-processing"><a href="#Image-processing" class="headerlink" title="Image processing"></a>Image processing</h1><h2 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h2><p>As all the visions on the screen shows are all constructed by pixels, which is huge anount of ‘1’ and ‘0’. Then computer scientists and engineers use different organizations of ‘1’ and ‘0’ to represent different colors. As we know from arts, all of colors can be expressed by combinations of different degrees of red, green and blue colors. We have lots of seted frames to help us express colors(e.g RGB color(int) , each part is represented by 8 bits which means we can set each part from integer 0 ~ 255 and higher<br>values of number means higher degrees of each part.</p>
<h2 id="some-classical-filters"><a href="#some-classical-filters" class="headerlink" title="some classical filters"></a>some classical filters</h2><h3 id="Convert-image-to-grayscale"><a href="#Convert-image-to-grayscale" class="headerlink" title="Convert image to grayscale"></a>Convert image to grayscale</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">void grayscale(int height, int width, RGBTRIPLE image[height][width])</span><br><span class="line">&#123;</span><br><span class="line">    int avrg &#x3D; 0;</span><br><span class="line">    for (int i &#x3D; 0; i &lt; height; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        for (int j &#x3D; 0; j &lt; width; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            avrg &#x3D; round((image[i][j].rgbtRed + image[i][j].rgbtGreen + image[i][j].rgbtBlue) &#x2F; 3.00);</span><br><span class="line">            image[i][j].rgbtRed &#x3D; avrg;</span><br><span class="line">            image[i][j].rgbtGreen &#x3D; avrg;</span><br><span class="line">            image[i][j].rgbtBlue &#x3D; avrg;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Reflect-image-horizontally"><a href="#Reflect-image-horizontally" class="headerlink" title="Reflect image horizontally"></a>Reflect image horizontally</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void reflect(int height, int width, RGBTRIPLE image[height][width])</span><br><span class="line">&#123;</span><br><span class="line">    void swap (BYTE *a, BYTE *b);</span><br><span class="line">    int mid &#x3D; width &#x2F; 2;</span><br><span class="line">    for (int i &#x3D; 0; i &lt; height; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        for (int j &#x3D; 0; j &lt;&#x3D; mid; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (width % 2 &#x3D;&#x3D; 1)</span><br><span class="line">            &#123;</span><br><span class="line">                swap (&amp;image[i][mid - j].rgbtRed, &amp;image[i][mid + j].rgbtRed);</span><br><span class="line">                swap (&amp;image[i][mid - j].rgbtGreen, &amp;image[i][mid + j].rgbtGreen);</span><br><span class="line">                swap (&amp;image[i][mid - j].rgbtBlue, &amp;image[i][mid + j].rgbtBlue);</span><br><span class="line">            &#125;</span><br><span class="line">            else if (width % 2 &#x3D;&#x3D; 0 &amp;&amp; j &lt; mid)</span><br><span class="line">            &#123;</span><br><span class="line">                swap (&amp;image[i][mid - 1 - j].rgbtRed, &amp;image[i][mid + j].rgbtRed);</span><br><span class="line">                swap (&amp;image[i][mid - 1 - j].rgbtGreen, &amp;image[i][mid + j].rgbtGreen);</span><br><span class="line">                swap (&amp;image[i][mid - 1 - j].rgbtBlue, &amp;image[i][mid + j].rgbtBlue);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br><span class="line">void swap (BYTE *a, BYTE *b)</span><br><span class="line">&#123;</span><br><span class="line">    BYTE tmp &#x3D; *a;</span><br><span class="line">    *a &#x3D; *b;</span><br><span class="line">    *b &#x3D; tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Blur-image"><a href="#Blur-image" class="headerlink" title="Blur image"></a>Blur image</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void blur(int height, int width, RGBTRIPLE image[height][width])</span><br><span class="line">&#123;</span><br><span class="line">    RGBTRIPLE tmp[height][width];</span><br><span class="line">    for (int i &#x3D; 0; i &lt; height; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        for (int j &#x3D; 0; j &lt; width; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            float pixels &#x3D; 0;</span><br><span class="line">            </span><br><span class="line">            int avrgRed &#x3D; 0, avrgGreen &#x3D; 0, avrgBlue &#x3D; 0;</span><br><span class="line">            </span><br><span class="line">            for (int radiusY &#x3D; -1; radiusY &lt; 2; radiusY++)</span><br><span class="line">            &#123;</span><br><span class="line">                for (int radiusX &#x3D; -1; radiusX &lt; 2; radiusX++)</span><br><span class="line">                &#123;</span><br><span class="line">                    if ( (i + radiusY) &gt;&#x3D; 0 &amp;&amp; (i + radiusY) &lt; height &amp;&amp; (j + radiusX) &gt;&#x3D; 0 &amp;&amp; (j + radiusX) &lt; width)</span><br><span class="line">                    &#123;</span><br><span class="line">                        avrgRed +&#x3D; image[i + radiusY][j + radiusX].rgbtRed;</span><br><span class="line">                        avrgGreen +&#x3D; image[i + radiusY][j + radiusX].rgbtGreen;</span><br><span class="line">                        avrgBlue +&#x3D; image[i + radiusY][j + radiusX].rgbtBlue;</span><br><span class="line">                        pixels &#x3D; pixels + 1;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            tmp[i][j].rgbtRed &#x3D; round(avrgRed &#x2F; pixels * 1.00);</span><br><span class="line">            tmp[i][j].rgbtGreen &#x3D; round(avrgGreen &#x2F; pixels * 1.00);</span><br><span class="line">            tmp[i][j].rgbtBlue &#x3D; round(avrgBlue &#x2F; pixels * 1.00);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i &#x3D; 0; i &lt; height; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        for (int j &#x3D; 0; j &lt; width; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            image[i][j].rgbtRed &#x3D; tmp[i][j].rgbtRed;</span><br><span class="line">            image[i][j].rgbtGreen &#x3D; tmp[i][j].rgbtGreen;</span><br><span class="line">            image[i][j].rgbtBlue &#x3D; tmp[i][j].rgbtBlue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Detect-edges"><a href="#Detect-edges" class="headerlink" title="Detect edges"></a>Detect edges</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void edges(int height, int width, RGBTRIPLE image[height][width])</span><br><span class="line">&#123;</span><br><span class="line">    void get_product(int tmpColor[3][3][3],int matrix[3][3], int product[3][3][3]);</span><br><span class="line">    </span><br><span class="line">    int tmpColor[3][3][3]; &#x2F;&#x2F; [0][0][0] is first for Red; [1][0][0] is first for Green; [2][0][0] is first for Blue;&#x2F;&#x2F;Gx</span><br><span class="line">    int productx[3][3][3];</span><br><span class="line">    int producty[3][3][3];</span><br><span class="line">    </span><br><span class="line">    RGBTRIPLE Gx[height][width];</span><br><span class="line">    RGBTRIPLE Gy[height][width];</span><br><span class="line">    RGBTRIPLE tmp[height][width];</span><br><span class="line">    </span><br><span class="line">     int limit (int num);</span><br><span class="line">     </span><br><span class="line">    int matrix_Gx[3][3] &#x3D; &#123;</span><br><span class="line">        &#123;-1, 0, 1&#125;,</span><br><span class="line">        &#123;-2, 0, 2&#125;,</span><br><span class="line">        &#123;-1, 0, 1&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    int matrix_Gy[3][3] &#x3D; &#123;</span><br><span class="line">        &#123;-1, -2, -1&#125;,</span><br><span class="line">        &#123; 0,  0,  0&#125;,</span><br><span class="line">        &#123; 1,  2,  1&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F; form Gx</span><br><span class="line">    for (int i &#x3D; 0; i &lt; height; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        for (int j &#x3D; 0; j &lt; width; j++)</span><br><span class="line">        &#123;</span><br><span class="line">           </span><br><span class="line">             int sRedx &#x3D; 0, sGreenx &#x3D; 0, sBluex &#x3D; 0, sRedy &#x3D; 0, sGreeny &#x3D; 0, sBluey &#x3D; 0, finalred &#x3D; 0, finalgreen &#x3D; 0, finalblue &#x3D; 0;</span><br><span class="line">             for (int m &#x3D; -1; m &lt;&#x3D; 1; m++)</span><br><span class="line">             &#123;</span><br><span class="line">                 for (int n &#x3D; -1; n &lt;&#x3D; 1; n++)</span><br><span class="line">                 &#123;</span><br><span class="line">                     if(i + m &lt; 0 || i + m &gt;&#x3D; height || j + n &lt; 0 || j + n &gt;&#x3D;width)</span><br><span class="line">                     &#123;</span><br><span class="line">                         tmpColor[0][m + 1][n + 1] &#x3D; 0;</span><br><span class="line">                         tmpColor[1][m + 1][n + 1] &#x3D; 0;</span><br><span class="line">                         tmpColor[2][m + 1][n + 1] &#x3D; 0;</span><br><span class="line">                         </span><br><span class="line">                         </span><br><span class="line">                     &#125;</span><br><span class="line">                     else</span><br><span class="line">                     &#123;</span><br><span class="line">                         tmpColor[0][m + 1][n + 1] &#x3D; image[i + m][j + n].rgbtRed;</span><br><span class="line">                         tmpColor[1][m + 1][n + 1] &#x3D; image[i + m][j + n].rgbtGreen;</span><br><span class="line">                         tmpColor[2][m + 1][n + 1] &#x3D; image[i + m][j + n].rgbtBlue;</span><br><span class="line">                     &#125;</span><br><span class="line">                     </span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">             get_product(tmpColor, matrix_Gx, productx);</span><br><span class="line">             get_product(tmpColor, matrix_Gy, producty);</span><br><span class="line">             </span><br><span class="line">             for (int k &#x3D; 0; k &lt; 3; k++)</span><br><span class="line">             &#123;</span><br><span class="line">                 for (int l &#x3D; 0; l &lt; 3; l++)</span><br><span class="line">                 &#123;</span><br><span class="line">                     sRedx +&#x3D; productx[0][k][l];</span><br><span class="line">                     sGreenx +&#x3D; productx[1][k][l];</span><br><span class="line">                     sBluex +&#x3D; productx[2][k][l];</span><br><span class="line">                     </span><br><span class="line">                     sRedy +&#x3D; producty[0][k][l];</span><br><span class="line">                     sGreeny +&#x3D; producty[1][k][l];</span><br><span class="line">                     sBluey +&#x3D; producty[2][k][l];</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">             </span><br><span class="line">             tmp[i][j].rgbtRed &#x3D; limit(round(sqrt(pow(sRedx , 2) + pow(sRedy , 2))));</span><br><span class="line">             tmp[i][j].rgbtGreen &#x3D; limit(round(sqrt(pow(sGreenx , 2) + pow(sGreeny , 2))));</span><br><span class="line">             tmp[i][j].rgbtBlue &#x3D; limit(round(sqrt(pow(sBluex , 2) + pow(sBluey , 2))));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">  </span><br><span class="line">    &#x2F;&#x2F; form squrt Gx^2 + Gy^2</span><br><span class="line">   </span><br><span class="line"> </span><br><span class="line">    for (int i &#x3D; 0; i &lt; height; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        for (int j &#x3D; 0; j &lt; width; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            image[i][j].rgbtRed &#x3D; tmp[i][j].rgbtRed;</span><br><span class="line">            image[i][j].rgbtGreen &#x3D; tmp[i][j].rgbtGreen;</span><br><span class="line">            image[i][j].rgbtBlue &#x3D; tmp[i][j].rgbtBlue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int limit (int num)</span><br><span class="line">&#123;</span><br><span class="line">    int out &#x3D; 0;</span><br><span class="line">    </span><br><span class="line">    if (num &gt;&#x3D; 255)</span><br><span class="line">    &#123;</span><br><span class="line">        out &#x3D; 255;</span><br><span class="line">    &#125;</span><br><span class="line">    else </span><br><span class="line">    &#123;</span><br><span class="line">        out &#x3D; num;</span><br><span class="line">    &#125;</span><br><span class="line">    return out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void get_product(int tmpColor[3][3][3],int matrix[3][3], int product[3][3][3])</span><br><span class="line">&#123;</span><br><span class="line">    for (int i &#x3D; 0; i &lt; 3; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        for (int j &#x3D; 0; j &lt; 3; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            for (int k &#x3D; 0; k &lt; 3; k++)</span><br><span class="line">            &#123;</span><br><span class="line">                product[i][j][k] &#x3D; tmpColor[i][j][k] * matrix[j][k];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="main-part"><a href="#main-part" class="headerlink" title="main part"></a>main part</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Define allowable filters</span><br><span class="line">    char *filters &#x3D; &quot;begr&quot;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Get filter flag and check validity</span><br><span class="line">    char filter &#x3D; getopt(argc, argv, filters);</span><br><span class="line">    if (filter &#x3D;&#x3D; &#39;?&#39;)</span><br><span class="line">    &#123;</span><br><span class="line">        fprintf(stderr, &quot;Invalid filter.\n&quot;);</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Ensure only one filter</span><br><span class="line">    if (getopt(argc, argv, filters) !&#x3D; -1)</span><br><span class="line">    &#123;</span><br><span class="line">        fprintf(stderr, &quot;Only one filter allowed.\n&quot;);</span><br><span class="line">        return 2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Ensure proper usage</span><br><span class="line">    if (argc !&#x3D; optind + 2)</span><br><span class="line">    &#123;</span><br><span class="line">        fprintf(stderr, &quot;Usage: filter [flag] infile outfile\n&quot;);</span><br><span class="line">        return 3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Remember filenames</span><br><span class="line">    char *infile &#x3D; argv[optind];</span><br><span class="line">    char *outfile &#x3D; argv[optind + 1];</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Open input file</span><br><span class="line">    FILE *inptr &#x3D; fopen(infile, &quot;r&quot;);</span><br><span class="line">    if (inptr &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        fprintf(stderr, &quot;Could not open %s.\n&quot;, infile);</span><br><span class="line">        return 4;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Open output file</span><br><span class="line">    FILE *outptr &#x3D; fopen(outfile, &quot;w&quot;);</span><br><span class="line">    if (outptr &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        fclose(inptr);</span><br><span class="line">        fprintf(stderr, &quot;Could not create %s.\n&quot;, outfile);</span><br><span class="line">        return 5;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Read infile&#39;s BITMAPFILEHEADER</span><br><span class="line">    BITMAPFILEHEADER bf;</span><br><span class="line">    fread(&amp;bf, sizeof(BITMAPFILEHEADER), 1, inptr);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Read infile&#39;s BITMAPINFOHEADER</span><br><span class="line">    BITMAPINFOHEADER bi;</span><br><span class="line">    fread(&amp;bi, sizeof(BITMAPINFOHEADER), 1, inptr);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Ensure infile is (likely) a 24-bit uncompressed BMP 4.0</span><br><span class="line">    if (bf.bfType !&#x3D; 0x4d42 || bf.bfOffBits !&#x3D; 54 || bi.biSize !&#x3D; 40 ||</span><br><span class="line">        bi.biBitCount !&#x3D; 24 || bi.biCompression !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        fclose(outptr);</span><br><span class="line">        fclose(inptr);</span><br><span class="line">        fprintf(stderr, &quot;Unsupported file format.\n&quot;);</span><br><span class="line">        return 6;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int height &#x3D; abs(bi.biHeight);</span><br><span class="line">    int width &#x3D; bi.biWidth;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Allocate memory for image</span><br><span class="line">    RGBTRIPLE(*image)[width] &#x3D; calloc(height, width * sizeof(RGBTRIPLE));</span><br><span class="line">    if (image &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        fprintf(stderr, &quot;Not enough memory to store image.\n&quot;);</span><br><span class="line">        fclose(outptr);</span><br><span class="line">        fclose(inptr);</span><br><span class="line">        return 7;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Determine padding for scanlines</span><br><span class="line">    int padding &#x3D; (4 - (width * sizeof(RGBTRIPLE)) % 4) % 4;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Iterate over infile&#39;s scanlines</span><br><span class="line">    for (int i &#x3D; 0; i &lt; height; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; Read row into pixel array</span><br><span class="line">        fread(image[i], sizeof(RGBTRIPLE), width, inptr);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Skip over padding</span><br><span class="line">        fseek(inptr, padding, SEEK_CUR);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Filter image</span><br><span class="line">    switch (filter)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; Blur</span><br><span class="line">        case &#39;b&#39;:</span><br><span class="line">            blur(height, width, image);</span><br><span class="line">            break;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Edges</span><br><span class="line">        case &#39;e&#39;:</span><br><span class="line">            edges(height, width, image);</span><br><span class="line">            break;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Grayscale</span><br><span class="line">        case &#39;g&#39;:</span><br><span class="line">            grayscale(height, width, image);</span><br><span class="line">            break;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Reflect</span><br><span class="line">        case &#39;r&#39;:</span><br><span class="line">            reflect(height, width, image);</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Write outfile&#39;s BITMAPFILEHEADER</span><br><span class="line">    fwrite(&amp;bf, sizeof(BITMAPFILEHEADER), 1, outptr);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Write outfile&#39;s BITMAPINFOHEADER</span><br><span class="line">    fwrite(&amp;bi, sizeof(BITMAPINFOHEADER), 1, outptr);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Write new pixels to outfile</span><br><span class="line">    for (int i &#x3D; 0; i &lt; height; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; Write row to outfile</span><br><span class="line">        fwrite(image[i], sizeof(RGBTRIPLE), width, outptr);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Write padding at end of row</span><br><span class="line">        for (int k &#x3D; 0; k &lt; padding; k++)</span><br><span class="line">        &#123;</span><br><span class="line">            fputc(0x00, outptr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Free memory for image</span><br><span class="line">    free(image);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Close infile</span><br><span class="line">    fclose(inptr);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Close outfile</span><br><span class="line">    fclose(outptr);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>These are simple filters that can be used directly. It is just directly consider every picture as full of pixels with rgb values in a very large matrix. If you are familar with the calculation of matrix, then you can do any kind of processing for image with different algorithm you create.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Xuanyu Lu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://william-lu-stack.github.io/2021/02/28/imageP/">https://william-lu-stack.github.io/2021/02/28/imageP/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> Donate</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2021/03/02/arraylist/"><img class="next-cover" src="https://th.bing.com/th/id/R520b1f4596a8452b8f6d7c31577c0817?rik=zSGL9zeMmaRQ5g&amp;riu=http%3a%2f%2ffile06.16sucai.com%2f2016%2f0926%2f59bae37662e8f718957d0d8692306317.jpg&amp;ehk=mmFQgrXhn%2b5NrsEzgpa035wVCSd4%2fZaXV0fxQkFhIR0%3d&amp;risl=&amp;pid=ImgRaw" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">ArrayList</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Xuanyu Lu</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">2</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/William-Lu-stack"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/William-Lu-stack" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:luxuanyuwilliam@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Image-processing"><span class="toc-number">1.</span> <span class="toc-text">Image processing</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Concept"><span class="toc-number">1.1.</span> <span class="toc-text">Concept</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#some-classical-filters"><span class="toc-number">1.2.</span> <span class="toc-text">some classical filters</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Convert-image-to-grayscale"><span class="toc-number">1.2.1.</span> <span class="toc-text">Convert image to grayscale</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reflect-image-horizontally"><span class="toc-number">1.2.2.</span> <span class="toc-text">Reflect image horizontally</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Blur-image"><span class="toc-number">1.2.3.</span> <span class="toc-text">Blur image</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Detect-edges"><span class="toc-number">1.2.4.</span> <span class="toc-text">Detect edges</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#main-part"><span class="toc-number">1.3.</span> <span class="toc-text">main part</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/02/28/imageP/" title="Filter(Edition)"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Filter(Edition)"/></a><div class="content"><a class="title" href="/2021/02/28/imageP/" title="Filter(Edition)">Filter(Edition)</a><time datetime="2021-03-02T12:20:56.405Z" title="Updated 2021-03-02 20:20:56">2021-03-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/02/BinaryTree/" title="BinaryTree"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BinaryTree"/></a><div class="content"><a class="title" href="/2021/03/02/BinaryTree/" title="BinaryTree">BinaryTree</a><time datetime="2021-03-02T12:20:32.695Z" title="Updated 2021-03-02 20:20:32">2021-03-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/02/linklist/" title="LinkedList"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LinkedList"/></a><div class="content"><a class="title" href="/2021/03/02/linklist/" title="LinkedList">LinkedList</a><time datetime="2021-03-02T12:12:40.604Z" title="Updated 2021-03-02 20:12:40">2021-03-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/02/arraylist/" title="ArrayList"><img src="https://th.bing.com/th/id/R520b1f4596a8452b8f6d7c31577c0817?rik=zSGL9zeMmaRQ5g&amp;riu=http%3a%2f%2ffile06.16sucai.com%2f2016%2f0926%2f59bae37662e8f718957d0d8692306317.jpg&amp;ehk=mmFQgrXhn%2b5NrsEzgpa035wVCSd4%2fZaXV0fxQkFhIR0%3d&amp;risl=&amp;pid=ImgRaw" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ArrayList"/></a><div class="content"><a class="title" href="/2021/03/02/arraylist/" title="ArrayList">ArrayList</a><time datetime="2021-03-02T11:57:30.945Z" title="Updated 2021-03-02 19:57:30">2021-03-02</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png')"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By Xuanyu Lu</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi,I'm Lu, welcome to my <a href="https://William-Lu-stack.github.io/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="Increase font size"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="Decrease font size"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">2</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>